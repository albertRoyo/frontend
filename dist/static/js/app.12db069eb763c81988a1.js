webpackJsonp([1],{"8HTk":function(t,e){},"9RkC":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Tqaz"),s=(n("sWs5"),n("7+uW")),i={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var r=n("VU/8")({name:"App"},i,!1,function(t){n("9RkC")},null,null).exports,c=n("/ocq"),o=n("mtWM"),d=n.n(o),u={data:function(){return{events:[{id:0,name:"Festival Cruilla 2020",artists:[{name:"Bad Gyal"},{name:"Txarango"},{name:"Estopa"}],city:"Barcelona",place:"Parc del Fòrum",date:"2020-07-03",price:100,image:"images/festival_cruilla.jpg"},{id:1,name:"Canet Rock 2020",artists:[{name:"Txarango"},{name:"Dvicio"},{name:"Lola Indigo"}],city:"Barcelona",place:"Parc del Fòrum",date:"2020-07-05",price:24,image:"images/festival_cruilla.jpg"},{id:2,name:"Iron Maiden Tour",artists:[{name:"Iron Maiden"}],city:"Barcelona",place:"Sant Jordi",date:"2020-08-22",price:70,image:"images/iron_maiden.jpg"}],events_added:[],quantity:[0,0,0],show_cart:!1}},methods:{addEventToCart:function(t){this.quantity[t.id]<1&&this.events_added.push(t),this.quantity[t.id]++},decQuant:function(t){this.quantity[t]>0&&(this.quantity[t]-=1)},incQuant:function(t){this.quantity[t]+=1},showCart:function(){this.show_cart=!0},closeCart:function(){this.show_cart=!1},finalizePurchase:function(){for(var t=0;t<this.events_added.items.length;t+=1){var e={event_id:this.events_added.items[t].event.id,tickets_bought:this.events_added.items[t].quantity};this.addPurchase(e)}},getEvents:function(){var t=this;d.a.get("http://localhost:5000/events").then(function(e){t.events=e.data.events}).catch(function(t){console.error(t)})},created:function(){this.getEvents()}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.show_cart?t._e():[n("button",{staticClass:"btn btn-success btn-lg",on:{click:t.showCart}},[t._v(" Cart ")]),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"row"},t._l(t.events,function(e){return n("div",{key:e.id,staticClass:"col-lg-4 col-md-6 mb-4"},[n("br"),t._v(" "),n("div",{staticClass:"card",staticStyle:{width:"18rem"}},[n("div",{staticClass:"card-body"},[n("img",{staticClass:"card-img-top",attrs:{src:"event.image",alt:"Card image cap"}}),t._v(" "),n("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._v(" "),n("p",{staticClass:"card-text"},[t._v(t._s(e.city))]),t._v(" "),n("p",{staticClass:"card-text"},[t._v(t._s(e.place))]),t._v(" "),n("p",{staticClass:"card-text"},[t._v(t._s(e.date))]),t._v(" "),n("p",{staticClass:"card-text"},[t._v(t._s(e.price)+" €")]),t._v(" "),n("button",{staticClass:"btn btn-success btn-lg",on:{click:function(n){return t.addEventToCart(e)}}},[t._v("Add to cart")])])])])}),0)])],t._v(" "),t.show_cart?n("thead",[t._m(0),t._v(" "),t._l(t.events_added,function(e){return t.quantity[e.id]>0?n("tr",{key:e.id},[n("td",{domProps:{textContent:t._s(e.name)}}),t._v(" "),n("td",{domProps:{textContent:t._s(t.quantity[e.id])}}),t._v(" "),n("a",{staticClass:"btn btn-primary",attrs:{href:"#",disabled:t.quantity[e.id]<1},on:{click:function(n){return t.decQuant(e.id)}}},[t._v("-")]),t._v(" "),n("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(n){return t.incQuant(e.id)}}},[t._v("+")]),t._v(" "),n("td",{domProps:{textContent:t._s(e.price)}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.price*t.quantity[e.id])}})]):t._e()}),t._v(" "),n("button",{staticClass:"btn btn-success btn-lg",on:{click:t.closeCart}},[t._v("Back")]),t._v(" "),n("button",{staticClass:"btn btn-success btn-lg",on:{click:t.finalizePurchase}},[t._v("Finalize purchase")])],2):t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Event Name")]),this._v(" "),e("th",[this._v("Quantity")]),this._v(" "),e("th",[this._v("Price(€)")]),this._v(" "),e("th",[this._v("Total")])])}]},v=n("VU/8")(u,l,!1,null,null,null).exports,_={data:function(){return{form:{email:"",name:"",food:null,checked:[]},username:"",password:"",addUserForm:{username:"",password:""}}},methods:{initForm:function(){this.addUserForm.username="",this.addUserForm.password=""},created:function(){this.logged=this.$route.query.logged,this.username=this.$route.query.username,this.is_admin=this.$route.query.is_admin,this.token=this.$route.query.token},checkLogin:function(){var t=this,e={username:this.username,password:this.password};d.a.post("http://localhost:5000/login",e).then(function(e){t.logged=!0,t.token=e.data.token,t.find_match=!0,t.getAccount()}).catch(function(e){console.error(e),t.user="",alert("Username or Password incorrect")})}}};var h=n("VU/8")(_,null,!1,function(t){n("8HTk")},"data-v-3178a2af",null).exports;s.default.use(c.a);var m=new c.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:[{path:"/",name:"Events",component:v},{path:"/userlogin",name:"Login",component:h}]});s.default.use(a.a),s.default.config.productionTip=!1,new s.default({router:m,render:function(t){return t(r)}}).$mount("#app")},sWs5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.12db069eb763c81988a1.js.map